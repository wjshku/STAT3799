"0","rounds <- 100"
"0",""
"0","hlist <- seq(0.1,1,0.1)"
"0","glist <- seq(0.3,4,0.3)"
"0",""
"0","mMSE_NW <- 0"
"0",""
"0","set.seed(10)"
"0","record_nw <- matrix(nrow = length(hlist), ncol = rounds)"
"0","record_hy <- matrix(nrow = length(hlist)*length(glist), ncol = rounds)"
"0",""
"0","for(exp in 1:rounds){"
"0","  data <- simu_norm(para$m + para$n, 1, meanx = 0, sigmax = sigmax, sigmaep = sigmaep)"
"0","    "
"0","  train_label <- data[1:para$n,]"
"0","  train_un <- data[(1+para$n):(para$m+para$n),]"
"0","  #test <- data[-sample,]"
"0","  #test <- data.frame(X = 2, Y = mx(2))"
"0","  result_nw <- data.frame()"
"0","  for(i in 1:length(hlist)){"
"0","    h <- hlist[i]"
"0","    MSE_NW <- nw_simu(train_label, test, para$n,h, k)$MSE"
"0","    "
"0","    result_nw <- rbind(result_nw, data.frame(mMSE_NW = MSE_NW, h))"
"0","  }"
"0","  record_nw[,exp] <- result_nw$mMSE_NW #"
"0","  mMSE_NW <- mMSE_NW + result_nw$mMSE_NW"
"0","  "
"0","  result_hy <- data.frame()"
"0","  for(i in 1:length(hlist)){"
"0","    for(j in 1:length(glist)){"
"0","      h <- hlist[i]"
"0","      g <- glist[j]"
"0","      para$lambda <- 1 + h^2/g^2"
"0","      nw_res <- nw_simu(train_label, test, para$n,h, k)"
"0","      ss_res <- ss_simu(train_label, train_un, test, para$n,h, para$m,g, k)"
"0","      "
"0","      hy_res <- hy_simu(test, para$lambda, nw_res$esti$esti_nw, ss_res$esti$esti_ss)"
"0","      "
"0","      result_hy <- rbind(result_hy, data.frame(mMSE_HY = hy_res$MSE, h, g))"
"0","    }"
"0","  }"
"0","  record_hy[,exp] <- result_hy$mMSE_HY"
"0","  mMSE_HY <- mMSE_HY + result_hy$mMSE_HY"
"0","}"
"0",""
"0","result_nw$mMSE_NW <- mMSE_NW/rounds"
"0","result_hy$mMSE_HY <- mMSE_HY/rounds"
